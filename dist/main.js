!function(e){var t={};function n(a){if(t[a])return t[a].exports;var u=t[a]={i:a,l:!1,exports:{}};return e[a].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(a,u,function(t){return e[t]}.bind(null,u));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"setShift",(function(){return K})),n.d(t,"setAlt",(function(){return _})),n.d(t,"setCapsLock",(function(){return P}));var a=[{value:{en:"`",ru:"ё"},valueShift:{en:"~",ru:"Ё"},keyCode:192,width:"normal"},{value:{en:"1",ru:"1"},valueShift:{en:"!",ru:"!"},keyCode:49,width:"normal"},{value:{en:"2",ru:"2"},valueShift:{en:"@",ru:'"'},keyCode:50,width:"normal"},{value:{en:"3",ru:"3"},valueShift:{en:"#",ru:"№"},keyCode:51,width:"normal"},{value:{en:"4",ru:"4"},valueShift:{en:"$",ru:";"},keyCode:52,width:"normal"},{value:{en:"5",ru:"5"},valueShift:{en:"%",ru:"%"},keyCode:53,width:"normal"},{value:{en:"6",ru:"6"},valueShift:{en:"^",ru:":"},keyCode:54,width:"normal"},{value:{en:"7",ru:"7"},valueShift:{en:"&",ru:"&"},keyCode:55,width:"normal"},{value:{en:"8",ru:"8"},valueShift:{en:"*",ru:"*"},keyCode:56,width:"normal"},{value:{en:"9",ru:"9"},valueShift:{en:"(",ru:"("},keyCode:57,width:"normal"},{value:{en:"0",ru:"0"},valueShift:{en:")",ru:")"},keyCode:48,width:"normal"},{value:{en:"-",ru:"-"},valueShift:{en:"_",ru:"_"},keyCode:189,width:"normal"},{value:{en:"=",ru:"="},valueShift:{en:"+",ru:"+"},keyCode:187,width:"normal"},{value:{en:"Backspace",ru:"Backspace"},valueShift:{en:"Backspace",ru:"Backspace"},keyCode:8,width:"middle",action:"backspace"},{value:{en:"Tab",ru:"Tab"},valueShift:{en:"Tab",ru:"Tab"},keyCode:9,width:"double",action:"tab"},{value:{en:"q",ru:"й"},valueShift:{en:"Q",ru:"Й"},keyCode:81,width:"normal"},{value:{en:"w",ru:"ц"},valueShift:{en:"W",ru:"Ц"},keyCode:87,width:"normal"},{value:{en:"e",ru:"у"},valueShift:{en:"E",ru:"У"},keyCode:69,width:"normal"},{value:{en:"r",ru:"к"},valueShift:{en:"R",ru:"К"},keyCode:82,width:"normal"},{value:{en:"t",ru:"е"},valueShift:{en:"T",ru:"Е"},keyCode:84,width:"normal"},{value:{en:"y",ru:"н"},valueShift:{en:"Y",ru:"Н"},keyCode:89,width:"normal"},{value:{en:"u",ru:"г"},valueShift:{en:"U",ru:"Г"},keyCode:85,width:"normal"},{value:{en:"o",ru:"щ"},valueShift:{en:"O",ru:"Щ"},keyCode:73,width:"normal"},{value:{en:"p",ru:"з"},valueShift:{en:"P",ru:"З"},keyCode:79,width:"normal"},{value:{en:"[",ru:"х"},valueShift:{en:"{",ru:"Х"},keyCode:80,width:"normal"},{value:{en:"]",ru:"ъ"},valueShift:{en:"}",ru:"Ъ"},keyCode:219,width:"normal"},{value:{en:"Enter",ru:"Enter"},valueShift:{en:"Enter",ru:"Enter"},keyCode:13,width:"double-height",action:"enter"},{value:{en:"Caps Lock",ru:"Caps Lock"},valueShift:{en:"Caps Lock",ru:"Caps Lock"},keyCode:20,width:"double",action:"capslock"},{value:{en:"a",ru:"ф"},valueShift:{en:"A",ru:"Ф"},keyCode:65,width:"normal"},{value:{en:"s",ru:"ы"},valueShift:{en:"S",ru:"Ы"},keyCode:83,width:"normal"},{value:{en:"d",ru:"в"},valueShift:{en:"D",ru:"В"},keyCode:68,width:"normal"},{value:{en:"f",ru:"а"},valueShift:{en:"F",ru:"А"},keyCode:70,width:"normal"},{value:{en:"g",ru:"п"},valueShift:{en:"G",ru:"П"},keyCode:71,width:"normal"},{value:{en:"h",ru:"р"},valueShift:{en:"H",ru:"Р"},keyCode:72,width:"normal"},{value:{en:"j",ru:"о"},valueShift:{en:"J",ru:"О"},keyCode:74,width:"normal"},{value:{en:"k",ru:"л"},valueShift:{en:"K",ru:"Л"},keyCode:75,width:"normal"},{value:{en:"l",ru:"д"},valueShift:{en:"L",ru:"Д"},keyCode:76,width:"normal"},{value:{en:";",ru:"ж"},valueShift:{en:":",ru:"Ж"},keyCode:186,width:"normal"},{value:{en:"'",ru:"э"},valueShift:{en:'"',ru:"Э"},keyCode:222,width:"normal"},{value:{en:"\\",ru:"\\"},valueShift:{en:"|",ru:"/"},keyCode:220,width:"normal"},{value:{en:"Shift",ru:"Shift"},valueShift:{en:"Shift",ru:"Shift"},keyCode:16,code:"ShiftLeft",width:"wide",action:"shift"},{value:{en:"z",ru:"я"},valueShift:{en:"Z",ru:"Я"},keyCode:90,width:"normal"},{value:{en:"x",ru:"ч"},valueShift:{en:"X",ru:"Ч"},keyCode:88,width:"normal"},{value:{en:"c",ru:"с"},valueShift:{en:"C",ru:"С"},keyCode:67,width:"normal"},{value:{en:"v",ru:"м"},valueShift:{en:"V",ru:"М"},keyCode:86,width:"normal"},{value:{en:"b",ru:"и"},valueShift:{en:"B",ru:"И"},keyCode:66,width:"normal"},{value:{en:"n",ru:"т"},valueShift:{en:"N",ru:"Т"},keyCode:78,width:"normal"},{value:{en:"m",ru:"ь"},valueShift:{en:"M",ru:"Ь"},keyCode:77,width:"normal"},{value:{en:",",ru:"б"},valueShift:{en:"<",ru:"Б"},keyCode:188,width:"normal"},{value:{en:".",ru:"ю"},valueShift:{en:">",ru:"Ю"},keyCode:190,width:"normal"},{value:{en:"/",ru:"."},valueShift:{en:"?",ru:","},keyCode:191,width:"normal"},{value:{en:"Up",ru:"Up"},valueShift:{en:"Up",ru:"Up"},keyCode:38,width:"normal",action:"keyUp"},{value:{en:"Shift",ru:"Shift"},valueShift:{en:"Shift",ru:"Shift"},keyCode:16,code:"ShiftRight",width:"normal",action:"shift"},{value:{en:"Ctrl",ru:"Ctrl"},valueShift:{en:"Ctrl",ru:"Ctrl"},keyCode:17,code:"ControlLeft",width:"double",action:"ctrl"},{value:{en:"Win",ru:"Win"},valueShift:{en:"Win",ru:"Win"},keyCode:91,code:"MetaLeft",width:"normal",action:"win"},{value:{en:"Alt",ru:"Alt"},valueShift:{en:"Alt",ru:"Alt"},keyCode:18,code:"AltLeft",width:"normal",action:"alt"},{value:{en:"Space",ru:"Пробел"},valueShift:{en:"Space",ru:"Пробел"},keyCode:32,width:"space"},{value:{en:"Alt",ru:"Alt"},valueShift:{en:"Alt",ru:"Alt"},keyCode:18,code:"AltRight",width:"normal",action:"alt"},{value:{en:"Ctrl",ru:"Ctrl"},valueShift:{en:"Ctrl",ru:"Ctrl"},keyCode:17,code:"ControlRight",width:"double",action:"ctrl"},{value:{en:"Left",ru:"Left"},valueShift:{en:"Left",ru:"Left"},keyCode:37,width:"normal",action:"keyLeft"},{value:{en:"Down",ru:"Down"},valueShift:{en:"Down",ru:"Down"},keyCode:40,width:"normal",action:"keyDown"},{value:{en:"Right",ru:"Right"},valueShift:{en:"Right",ru:"Right"},keyCode:39,width:"normal",action:"keyRight"}],u=[39,40,37,17,18,32,91,16,38,20,13,9,8],i=function(e){var t=e.target,n=(t.value,t.dataset.id),a=e.keyCode,i=e.type,r=a||n,l=u.some((function(e){return e===Number(r)}));return l&&o(a,i),l},o=function(e,t){switch(e){case 8:l(t);break;case 9:c(t);break;case 13:h(t);break;case 20:d(t);break;case 16:s(t);break;case 38:v(t);break;case 17:f(t);break;case 91:k(t);break;case 18:y(t);break;case 37:S(t);break;case 40:m(t);break;case 39:w(t)}},r=!1,l=function(){},c=function(){},h=function(){},d=function(e){switch(e){case"keydown":case"mousedown":P(!r);break;case"keyup":case"mouseup":r=!r;break;default:return!1}},s=function(e){switch(e){case"keydown":case"mousedown":K(!0);break;case"keyup":case"mouseup":K(!1);break;default:return}},v=function(){},f=function(){},k=function(){},y=function(e){switch(e){case"keydown":case"mousedown":_(!0);break;case"keyup":case"mouseup":_(!1);break;default:return}},S=function(){},m=function(){},w=function(){};function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var b=function(){function e(t,n,a,u,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=t,this.keyCode=n,this.width=u,this.code=a,this.action=i,this.lang=o,this.button=document.createElement("button")}var t,n,a;return t=e,(n=[{key:"getButtonTemplate",value:function(){var e=this.button;return e.value=this.value[this.lang],e.innerText=this.value[this.lang],e.classList.add(this.width),e.setAttribute("data-id",this.keyCode),this.button=e,this.action&&this.setAction(this.action),this.code&&e.setAttribute("data-code",this.code),e}},{key:"setValue",value:function(e){this.value=e}},{key:"setLang",value:function(e){this.lang=e}},{key:"onClick",value:function(){this.setActive(),this.action&&this.setAction()}},{key:"setAction",value:function(e){this.button.setAttribute("data-action",e)}}])&&C(t.prototype,n),a&&C(t,a),e}();function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var p=document.createElement("textarea"),L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isAction=!1,this.lang=localStorage.getItem("VirtualKeyboardLang")||"ru",this.getLang=this.getLang.bind(this),this.keyboardContainer=document.createElement("section"),this.isShiftActive=!1,this.isAltActive=!1,this.isCtrlActive=!1,this.setIsShift=this.setIsShift.bind(this)}var t,n,u;return t=e,(n=[{key:"init",value:function(){console.log("Язык - ".concat(this.lang)),document.querySelector("body").insertAdjacentElement("beforeend",this.keyboardContainer),this.keyboardContainer.classList.add("keyboard-container"),this.renderButtonToDom(),this.eventListner()}},{key:"eventListner",value:function(){window.addEventListener("keydown",E),window.addEventListener("keyup",E),this.keyboardContainer.addEventListener("mousedown",T),this.keyboardContainer.addEventListener("mouseup",T),this.keyboardContainer.addEventListener("click",T)}},{key:"renderButtonToDom",value:function(){var e=this.getKeyboardWrapper();this.generateButtonsFromData().forEach((function(t){e.append(t.getButtonTemplate())}))}},{key:"getKeyboardWrapper",value:function(){var e=document.querySelector("section.keyboard-container");return e.innerHTML="",e}},{key:"generateButtonsFromData",value:function(){var e=this,t=[];return a.forEach((function(n){n.value,n.valueShift;var a=n.keyCode,u=n.code,i=void 0===u?"":u,o=n.width,r=n.action,l=void 0===r?"":r,c=e.getButtonValue(n),h=new b(c,a,i,o,l,e.lang);t.push(h)})),t}},{key:"getButtonValue",value:function(e){var t=e.value,n=e.valueShift;return this.isShiftActive?n:t}},{key:"setLang",value:function(){switch(this.lang){case"ru":localStorage.setItem("VirtualKeyboardLang","en"),this.lang=localStorage.getItem("VirtualKeyboardLang"),this.renderButtonToDom();break;case"en":localStorage.setItem("VirtualKeyboardLang","ru"),this.lang=localStorage.getItem("VirtualKeyboardLang"),this.renderButtonToDom()}console.log("Язык - ".concat(this.lang))}},{key:"getLang",value:function(){return this.lang}},{key:"changeLang",value:function(){this.isShiftActive&&this.isAltActive&&this.setLang()}},{key:"getIsShift",value:function(){return this.isShiftActive}},{key:"getIsCapsLock",value:function(){return this.isCapsLockActive}},{key:"setIsShift",value:function(e){this.isShiftActive=e,this.changeLang(),this.renderButtonToDom(),console.log("Shift - ".concat(this.isShiftActive))}},{key:"setIsAlt",value:function(e){this.isAltActive=e,this.changeLang(),console.log("Alt - ".concat(this.isAltActive))}},{key:"setIsCapsLock",value:function(e){this.isCapsLockActive=e,this.setIsShift(e),console.log("Caps Lock - ".concat(this.isCapsLockActive))}},{key:"setIsCtrl",value:function(){}}])&&g(t.prototype,n),u&&g(t,u),e}();window.onload=function(){p&&document.querySelector("body").insertAdjacentElement("afterbegin",p),a&&M.init()};var A=[],E=function(e){var t=e.key,n=e.keyCode,a=e.type,u=e.code,o=i(e),r=["AltLeft","ControlLeft","ControlRight","ShiftRight","ShiftLeft","AltRight"].some((function(e){return e===u}))?document.querySelector('button[data-code = "'.concat(u,'"]')):document.querySelector('button[data-id = "'.concat(n,'"]'));switch(a){case"keydown":R(r);break;case"keyup":O(r)}o||I(t)},T=function(e){e.key,e.keyCode;var t=e.type;switch(console.log(e),t){case"mousedown":D(e);break;case"mouseup":j(e);break;case"click":B(e)}},I=function(e){A.push(e),p.value=p.value+e},B=function(e){var t=e.target,n=t.value,a=t.dataset;a.id,a.action;i(e)||I(n)},D=function(e){V(e.target)},j=function(e){x(e.target)},R=function(e){V(e)},O=function(e){x(e)},V=function(e){e.classList.add("active")},x=function(e){e.classList.remove("active")},K=function(e){M.setIsShift(e)},P=function(e){M.setIsCapsLock(e)},_=function(e){M.setIsAlt(e)},M=new L;t.default=L}]);